# 代码审查清单

本文档提供了代码审查的标准检查项，确保代码质量和一致性。

## 1. 代码质量检查

### 1.1 代码结构
- [ ] 代码组织结构合理，符合项目规范
- [ ] 包命名符合约定（com.公司.项目.模块）
- [ ] 类职责单一，符合单一职责原则
- [ ] 方法长度适中（一般不超过50行）
- [ ] 避免过深的嵌套（一般不超过3层）

### 1.2 命名规范
- [ ] 类名使用大驼峰命名法（PascalCase）
- [ ] 方法名和变量名使用小驼峰命名法（camelCase）
- [ ] 常量使用全大写加下划线（UPPER_CASE）
- [ ] 命名具有描述性，避免缩写
- [ ] 布尔变量/方法使用 is/has/can 前缀

### 1.3 代码风格
- [ ] 遵循 Google Java Style Guide
- [ ] 使用统一的代码格式化（spotless:apply）
- [ ] 适当的空行和缩进
- [ ] 每行不超过100个字符
- [ ] 使用 Unix 行结束符（LF）

## 2. 功能正确性

### 2.1 业务逻辑
- [ ] 实现的功能符合需求描述
- [ ] 边界条件处理正确
- [ ] 错误处理机制完善
- [ ] 输入验证完整
- [ ] 业务规则实现准确

### 2.2 算法效率
- [ ] 算法时间复杂度合理
- [ ] 空间复杂度优化
- [ ] 避免不必要的计算
- [ ] 使用合适的数据结构

### 2.3 并发安全
- [ ] 线程安全考虑（如果适用）
- [ ] 避免竞态条件
- [ ] 适当的同步机制
- [ ] 死锁预防

## 3. 测试相关

### 3.1 测试覆盖
- [ ] 有相应的单元测试
- [ ] 测试覆盖关键业务逻辑
- [ ] 边界条件测试完整
- [ ] 错误场景测试覆盖
- [ ] 测试代码质量良好

### 3.2 测试设计
- [ ] 测试命名规范（方法名_场景_预期）
- [ ] 使用 Arrange-Act-Assert 模式
- [ ] 测试数据准备充分
- [ ] 避免测试依赖
- [ ] 测试可重复运行

### 3.3 测试执行
- [ ] 所有测试通过
- [ ] 测试运行时间合理
- [ ] 没有跳过或忽略的测试
- [ ] 测试报告清晰

## 4. 安全考虑

### 4.1 输入安全
- [ ] 所有输入都经过验证
- [ ] 防止 SQL 注入
- [ ] 防止 XSS 攻击
- [ ] 防止 CSRF 攻击
- [ ] 文件上传安全

### 4.2 数据安全
- [ ] 敏感信息加密
- [ ] 密码安全存储（加盐哈希）
- [ ] 访问控制完善
- [ ] 日志不记录敏感信息

### 4.3 依赖安全
- [ ] 使用的依赖没有已知安全漏洞
- [ ] 依赖版本及时更新
- [ ] 依赖来源可信

## 5. 性能优化

### 5.1 代码性能
- [ ] 避免不必要的对象创建
- [ ] 使用 StringBuilder 进行字符串拼接
- [ ] 循环优化
- [ ] 缓存合理使用

### 5.2 数据库性能
- [ ] SQL 查询优化
- [ ] 适当的索引使用
- [ ] 避免 N+1 查询问题
- [ ] 分页处理大数据

### 5.3 资源管理
- [ ] 及时释放资源（IO、数据库连接等）
- [ ] 使用 try-with-resources
- [ ] 连接池配置合理

## 6. 可维护性

### 6.1 代码可读性
- [ ] 代码注释充分且有意义
- [ ] 复杂的逻辑有解释
- [ ] 魔法数字被常量替代
- [ ] 代码自解释性强

### 6.2 模块化设计
- [ ] 高内聚低耦合
- [ ] 接口设计合理
- [ ] 依赖注入使用恰当
- [ ] 配置外部化

### 6.3 重构考虑
- [ ] 重复代码被提取
- [ ] 过长方法被拆分
- [ ] 复杂条件被简化
- [ ] 设计模式使用恰当

## 7. 文档相关

### 7.1 代码文档
- [ ] 类和方法有 Javadoc 注释
- [ ] 公共API文档完整
- [ ] 复杂算法有注释说明
- [ ] TODO/FIXME 注释明确

### 7.2 项目文档
- [ ] README 更新及时
- [ ] 配置说明文档完整
- [ ] API 文档生成
- [ ] 部署文档准确

### 7.3 变更文档
- [ ] 提交信息格式规范
- [ ] 变更描述清晰
- [ ] 关联的Issue/PR
- [ ] 破坏性变更说明

## 8. 工具集成

### 8.1 构建工具
- [ ] Maven 构建配置正确
- [ ] 依赖版本管理规范
- [ ] 插件配置合理
- [ ] 构建脚本可运行

### 8.2 CI/CD
- [ ] CI 流水线配置正确
- [ ] 测试在 CI 中通过
- [ ] 代码质量检查集成
- [ ] 部署流程完善

### 8.3 开发工具
- [ ] IDE 配置一致
- [ ] 代码格式化配置
- [ ] 静态分析工具集成
- [ ] 调试配置完善

## 9. 兼容性考虑

### 9.1 向后兼容
- [ ] API 变更考虑兼容性
- [ ] 配置变更向后兼容
- [ ] 数据迁移方案
- [ ] 版本升级路径

### 9.2 环境兼容
- [ ] 支持目标 Java 版本
- [ ] 跨平台兼容性
- [ ] 依赖版本兼容
- [ ] 配置环境适配

### 9.3 浏览器兼容
- [ ] 前端代码浏览器兼容（如果适用）
- [ ] 响应式设计考虑
- [ ] 移动端适配

## 10. 特殊检查项

### 10.1 新功能引入
- [ ] 功能开关配置（如果需要）
- [ ] 特性标志使用
- [ ] 灰度发布考虑

### 10.2 第三方集成
- [ ] 外部API调用错误处理
- [ ] 超时和重试机制
- [ ] 限流和降级策略
- [ ] 监控和日志

### 10.3 国际化
- [ ] 文本外部化（如果适用）
- [ ] 日期时间处理
- [ ] 数字和货币格式
- [ ] 时区考虑

## 审查结果

### 通过标准
- [ ] 所有必填项检查通过
- [ ] 没有严重问题
- [ ] 测试覆盖达标
- [ ] 文档完整

### 需要改进
- [ ] 存在轻微问题但可接受
- [ ] 需要后续优化
- [ ] 不影响功能发布

### 拒绝标准
- [ ] 存在严重功能问题
- [ ] 安全漏洞
- [ ] 性能问题严重
- [ ] 测试覆盖不足

## 审查记录

| 审查项 | 状态 | 说明 |
|--------|------|------|
| 代码结构 | ✅/⚠️/❌ | 详细说明 |
| 命名规范 | ✅/⚠️/❌ | 详细说明 |
| 功能正确性 | ✅/⚠️/❌ | 详细说明 |
| 测试覆盖 | ✅/⚠️/❌ | 详细说明 |
| 安全考虑 | ✅/⚠️/❌ | 详细说明 |
| 性能优化 | ✅/⚠️/❌ | 详细说明 |

**审查结论**: [通过/需要改进/拒绝]

**建议和改进项**:
1. 
2. 
3. 

**审查人**: ___________
**审查日期**: ___________

---

*此清单应根据项目特点进行调整和补充，定期回顾更新。*